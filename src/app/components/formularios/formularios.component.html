<div class="container">

    <form [formGroup]="formularioCreado">
        <div class="form-group">
            <label>Nombre</label>
            <input type="text" class="form-control" formControlName="nombre">

            <div *ngIf="formularioCreado.controls['nombre'].invalid || !formularioCreado.controls['nombre'].dirty" class="alert alert-danger" role="alert">
                <span *ngIf="formularioCreado.controls['nombre'].errors?.required">El nombre es requerido</span>
            </div>
        </div>
        
        <div class="form-group">
            <label>Correo</label>
            <input type="text" class="form-control" formControlName="correo"> 
            <div *ngIf="formularioCreado.controls['correo'].invalid || formularioCreado.controls['correo'].dirty">
                
                <div *ngIf="formularioCreado.controls['correo'].errors?.required"class="alert alert-danger" role="alert">
                    El correo es requerido
                </div>
                <div *ngIf="formularioCreado.controls['correo'].errors?.email" class="alert alert-danger" role="alert">
                    Formato no valido
                </div>

            </div>
            
        </div>
        <div class="form-group">
            <label>Contrase침a</label>
            <input type="password" class="form-control" formControlName="password">
            <div *ngIf="formularioCreado.controls['password'].invalid || formularioCreado.controls['password'].dirty">
                <div *ngIf="formularioCreado.controls['password'].errors?.required" class="alert alert-danger" role="alert">
                    La contrase침a es requerida
                </div>
                <div *ngIf="formularioCreado.controls['password'].errors?.minlength" class="alert alert-danger" role="alert">
                    La contrase침a debe tener al menos 8 caracteres
                </div>
            </div>
            
        </div>
        <button *ngIf="esNuevo" [disabled]="!formularioCreado.valid" (click)="agregar()" class="btn btn-primary">Agregar</button>
        <button *ngIf="!esNuevo" [disabled]="!formularioCreado.valid" (click)="editar()" class="btn btn-danger">Editar</button>
    </form>

    <p>Es v치lido: {{formularioCreado.valid}}</p>
    <p>{{formularioCreado.value | json}}</p>


    <div *ngFor="let usuario of usuarios; let i = index" class="card">
        <h4>{{usuario.nombre}} posicion: {{i}}</h4>
        <p>{{usuario.correo}}</p>
        <p>{{usuario.password}}</p>
        <button (click)="editarUsuario(i)" class="btn btn-success">Editar</button>
        <button (click)="eliminarUsuario(i)" class="btn btn-dark">Eliminar</button>
    </div>
</div>
